<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"><title>湖北经济学院信息与通信工程学院软件Q1842杨开</title>
    <script src="static/js/html5shiv.js" th:src="@{/js/html5shiv.js}" ></script>
    <script src="static/static/js/respond.js" th:src="@{/js/respond.js}"></script>
    <link href="static/css/bootstrap.css" th:href="@{/css/bootstrap.css}" rel="stylesheet">
    <link href="static/css/style.css" th:href="@{/css/style.css}" rel="stylesheet">
    <link href="static/css/responsive.css" th:href="@{/css/responsive.css}" rel="stylesheet">
    <link rel="shortcut icon" href="static/picture/favicon.png" th:href="@{/picture/favicon.png}" type="image/x-icon"><!-- Responsive -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
</head>
<body>
<div class="page-wrapper">
    <!-- Preloader -->
    <div th:replace="../templates/fragments/header::dashboard-top"></div>
    <!--End Main Header -->
    <!--Page Title-->
    <section class="page-title">
        <div class="auto-container">
            <div class="title-outer">
                <h1>找工作</h1>
                <ul class="page-breadcrumb">
                    <li><a th:href="@{/index}">主页</a></li>
                    <li>工作</li>
                </ul>
            </div>
        </div>
    </section>
    <!--End Page Title-->
    <!-- Listing Section -->
    <section class="ls-section">
        <div class="auto-container">
            <div class="filters-backdrop"></div>
            <div class="row">
                <!-- Filters Column -->
                <div class="filters-column hide-left">
                    <div class="inner-column">
                        <div class="filters-outer"><button type="button" class="theme-btn close-filters">X</button><!-- Filter Block -->
                            <div class="filter-block">
                                <h4>Search by Keywords</h4>
                                <div class="form-group"><input type="text" name="listing-search" placeholder="Job title, keywords, or company"><span
                                        class="icon flaticon-search-3"></span></div>
                            </div><!-- Filter Block -->
                            <div class="filter-block">
                                <h4>Location</h4>
                                <div class="form-group"><input type="text" name="listing-search" placeholder="City or postcode"><span class="icon flaticon-map-locator"></span></div>
                                <p>Radius around selected destination</p>
                                <div class="range-slider-one">
                                    <div class="area-range-slider"></div>
                                    <div class="input-outer">
                                        <div class="amount-outer"><span class="area-amount"></span>km</div>
                                    </div>
                                </div>
                            </div><!-- Filter Block -->
                            <div class="filter-block">
                                <h4>Category</h4>
                                <div class="form-group"><select class="chosen-select">
                                    <option>Choose a category</option>
                                    <option>Residential</option>
                                    <option>Commercial</option>
                                    <option>Industrial</option>
                                    <option>Apartments</option>
                                </select><span class="icon flaticon-briefcase"></span></div>
                            </div><!-- Switchbox Outer -->
                            <div class="switchbox-outer">
                                <h4>Job type</h4>
                                <ul class="switchbox">
                                    <li><label class="switch"><input type="checkbox" checked=""><span class="slider round"></span><span class="title">Freelance</span></label></li>
                                    <li><label class="switch"><input type="checkbox"><span class="slider round"></span><span class="title">Full
														Time</span></label></li>
                                    <li><label class="switch"><input type="checkbox"><span class="slider round"></span><span class="title">Internship</span></label></li>
                                    <li><label class="switch"><input type="checkbox"><span class="slider round"></span><span class="title">Part
														Time</span></label></li>
                                    <li><label class="switch"><input type="checkbox"><span class="slider round"></span><span class="title">Temporary</span></label></li>
                                </ul>
                            </div><!-- Checkboxes Ouer -->
                            <div class="checkbox-outer">
                                <h4>Date Posted</h4>
                                <ul class="checkboxes">
                                    <li><input id="check-f" type="checkbox" name="check"><label for="check-f">All</label></li>
                                    <li><input id="check-a" type="checkbox" name="check"><label for="check-a">Last Hour</label></li>
                                    <li><input id="check-b" type="checkbox" name="check"><label for="check-b">Last 24 Hours</label></li>
                                    <li><input id="check-c" type="checkbox" name="check"><label for="check-c">Last 7 Days</label></li>
                                    <li><input id="check-d" type="checkbox" name="check"><label for="check-d">Last 14 Days</label></li>
                                    <li><input id="check-e" type="checkbox" name="check"><label for="check-e">Last 30 Days</label></li>
                                </ul>
                            </div><!-- Checkboxes Ouer -->
                            <div class="checkbox-outer">
                                <h4>Experience Level</h4>
                                <ul class="checkboxes square">
                                    <li><input id="check-ba" type="checkbox" name="check"><label for="check-ba">All</label></li>
                                    <li><input id="check-bb" type="checkbox" name="check"><label for="check-bb">Internship</label></li>
                                    <li><input id="check-bc" type="checkbox" name="check"><label for="check-bc">Entry level</label></li>
                                    <li><input id="check-bd" type="checkbox" name="check"><label for="check-bd">Associate</label></li>
                                    <li><input id="check-be" type="checkbox" name="check"><label for="check-be">Mid-Senior level4</label></li>
                                    <li><button class="view-more"><span class="icon flaticon-plus"></span>View More</button></li>
                                </ul>
                            </div><!-- Filter Block -->
                            <div class="filter-block">
                                <h4>Salary</h4>
                                <div class="range-slider-one salary-range">
                                    <div class="salary-range-slider"></div>
                                    <div class="input-outer">
                                        <div class="amount-outer"><span class="amount salary-amount">$<span class="min">0</span>$<span class="max">0</span></span></div>
                                    </div>
                                </div>
                            </div><!-- Filter Block -->
                            <div class="filter-block">
                                <h4>Tags</h4>
                                <ul class="tags-style-one">
                                    <li><a href="#">app</a></li>
                                    <li><a href="#">administrative</a></li>
                                    <li><a href="#">android</a></li>
                                    <li><a href="#">wordpress</a></li>
                                    <li><a href="#">design</a></li>
                                    <li><a href="#">react</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div><!-- Content Column -->
                <div class="content-column col-lg-12">
                    <div class="ls-outer">
                        <!-- ls Switcher -->
                        <div class="ls-switcher">
                            <div class="showing-result show-filters">
                                <button type="button" class="theme-btn toggle-filters">
                                <span class="icon icon-filter"></span>Filter</button>
                                <div id="showdata" class="text">展示<strong th:text="${session.jobIPage.total}"></strong>个岗位中的<strong th:text="${(session.jobIPage.current - 1) * session.jobIPage.size + 1} + ' - ' + ${session.jobIPage.current * session.jobIPage.size}"></strong>个岗位</div>
                            </div>
                            <div class="sort-by">
                                <select class="chosen-select" id="jobtype">
                                <option><a th:href="@{/job/joblist/后端开发}">后端开发</a></option>
                                <option><a th:href="@{/job/joblist/人工智能}">人工智能</a></option>
                                <option><a th:href="@{/job/joblist/移动开发}">移动开发</a></option>
                                <option><a th:href="@{/job/joblist/测试}">测试</a></option>
                                <option><a th:href="@{/job/joblist/运维}">运维</a></option>
                                <option><a th:href="@{/job/joblist/数据}">数据</a></option>
                                <option><a th:href="@{/job/joblist/前端开发}">前端开发</a></option>
                                <option><a th:href="@{/job/joblist/高端技术}">高端技术</a></option>
                                <option><a th:href="@{/job/joblist/架构师}">架构师</a></option>
                                </select>

                                <!--有关分页的信息-->
                                <input type="hidden" th:value="${session.jobIPage.current}" id="jobpagecurrent">
                                <input type="hidden" th:value="${session.jobIPage.size}" id="jobpagesize">
                                <input type="hidden" th:value="${session.typename}" id="jobtypename">

                                <select class="chosen-select" id="changejobpagesize">
                                <option value="10">展示10条数据</option>
                                <option value="20">展示20条数据</option>
                                <option value="30">展示30条数据</option>
                                <option value="40">展示40条数据</option>
                                <option value="50">展示50条数据</option>
                            </select></div>
                        </div>

                        <div class="row" id="joblistpage">
                            <!-- Job Block -->
                            <div th:each="jobandcompany,iterStat:${session.jobIPage.records}" class="job-block col-lg-6 col-md-12 col-sm-12">
                                <div class="inner-box">
                                    <div class="content" >
                                        <span class="company-logo"><img th:src="@{${jobandcompany.company.company_picture}}" alt=""></span>
                                        <h4><a th:href="@{'/job/job_detail/' + ${jobandcompany.job.job_id}}" th:text="${jobandcompany.job.job_name}"></a></h4>
                                        <ul class="job-info">
                                            <li th:if="${session.typename != null}"><span class="icon flaticon-briefcase"></span><div th:text="${session.typename}"></div></li>
                                            <li><span class="icon flaticon-map-locator"></span><div th:text="${jobandcompany.job.getJob_location()}"></div></li>
                                            <li><span class="icon flaticon-money"></span><div th:text="'￥' + ${jobandcompany.job.job_money_low} + ' - ' + ${jobandcompany.job.job_money_high} + 'k'"></div></li>
                                        </ul>
                                        <ul class="job-other-info">
                                            <li th:each="welfare,iterStat:${jobandcompany.job.job_welfare}" th:if="${iterStat.count<=7}" class="required" th:text="${welfare}">
                                            </li>
                                            <li  class="required" > ... </li>
                                        </ul>
                                        <button class="bookmark-btn"><span class="flaticon-bookmark"></span></button>
                                    </div>
                                </div>
                            </div>
                        </div><!-- Pagination -->
                        <nav class="ls-pagination mb-5">
                            <ul th:if="${session.typename} != null" th:with="pages=${session.jobIPage.pages},current=${session.jobIPage.current}">
                                <li class="prev" th:if="${current != 1}">
                                    <a href="#"
                                       th:href="'/job/joblist/' + ${session.typename} + '/' + ${session.jobIPage.current - 1} + '/' + ${session.jobIPage.size}">
                                    <i class="fa fa-arrow-left"></i></a></li>
                                <li th:if="${pages<10}" th:each="i:${#numbers.sequence(1,pages)}">
                                    <a th:if="${session.jobIPage.current != i}"
                                       th:href="'/job/joblist/' + ${session.typename} + '/' + ${i} + '/' + ${session.jobIPage.size}"
                                       th:text="${i}"></a>
                                    <a th:if="${session.jobIPage.current == i}" class="current-page"
                                       th:href="'/job/joblist/' + ${session.typename} + '/' + ${i} + '/' + ${session.jobIPage.size}"
                                       th:text="${i}"></a>
                                </li>
                                <li th:if="${pages>10}"
                                    th:each="i:${#numbers.sequence(1,3)}">
                                    <a th:if="${session.jobIPage.current != i}"
                                       th:href="'/job/joblist/' + ${session.typename} + '/' +${i} + '/' + ${session.jobIPage.size}"
                                       th:text="${i}"></a>
                                    <a th:if="${session.jobIPage.current == i}" class="current-page"
                                       th:href="'/job/joblist/' + ${session.typename} + '/' +${i} + '/' + ${session.jobIPage.size}"
                                       th:text="${i}"></a>
                                </li>
                                <li th:if="${pages>10 && current == 3}">
                                    <a
                                            th:href="'/job/joblist/' + ${session.typename} + '/' + 4 + '/' + ${session.jobIPage.size}"
                                            th:text="4"></a>
                                </li>
                                <li th:if="${pages>10 && current == 4}">
                                    <a class="current-page"
                                       th:href="'/job/joblist/' + ${session.typename} + '/' + 4 + '/' + ${session.jobIPage.size}"
                                       th:text="4"></a>
                                </li>
                                <li th:if="${pages>10 && current == 4}">
                                    <a
                                            th:href="'/job/joblist/' + ${session.typename} + '/' + 5 + '/' + ${session.jobIPage.size}"
                                            th:text="5"></a>
                                </li>
                                <li th:if="${pages>10}">
                                    ...
                                </li>
                                <li th:if="${pages>10  && current >= 5 && pages - current >= 4}"
                                    th:each="i:${#numbers.sequence(current - 1,current + 1)}">
                                    <a th:if="${session.jobIPage.current != i}"
                                       th:href="'/job/joblist/' + ${session.typename} + '/' + ${i} + '/' + ${session.jobIPage.size}"
                                       th:text="${i}"></a>
                                    <a th:if="${session.jobIPage.current == i}" class="current-page"
                                       th:href="'/job/joblist/' + ${session.typename} + '/' + ${i} + '/' + ${session.jobIPage.size}"
                                       th:text="${i}"></a>
                                </li>
                                <li th:if="${pages>10  && current >= 5 && pages - current >= 5}">
                                    ...
                                </li>
                                <li th:if="${pages>10 &&  pages - current == 3}">
                                    <a
                                            th:href="'/job/joblist/' + ${session.typename} + '/' + ${current - 1} + '/' + ${session.jobIPage.size}"
                                            th:text="${current - 1}"></a>
                                </li>
                                <li th:if="${pages>10 &&  pages - current == 3}">

                                    <a class="current-page"
                                       th:href="'/job/joblist/' + ${session.typename} + '/' + ${current} + '/' + ${session.jobIPage.size}"
                                       th:text="${current}"></a>
                                </li>
                                <li th:if="${pages>10 && pages - current == 2}">
                                    <a
                                            th:href="'/job/joblist/' + ${session.typename} + '/' + ${current - 1} + '/' + ${session.jobIPage.size}"
                                            th:text="${current - 1}"></a>
                                </li>
                                <li th:if="${pages>10}"
                                    th:each="i:${#numbers.sequence(pages - 2, pages)}">
                                    <a th:if="${session.jobIPage.current != i}"
                                       th:href="'/job/joblist/' + ${session.typename} + '/' + ${i}+ '/' + ${session.jobIPage.size}"
                                       th:text="${i}"></a>
                                    <a th:if="${session.jobIPage.current == i}" class="current-page"
                                       th:href="'/job/joblist/' + ${session.typename} + '/' + ${i} + '/' + ${session.jobIPage.size}"
                                       th:text="${i}"></a>
                                </li>
                                <li class="next" th:if="${current != pages}"><a
                                        th:href="'/job/joblist/' + ${session.typename} + '/' + ${session.jobIPage.current + 1}  + '/' + ${session.jobIPage.size}"
                                        class="fa fa-arrow-right"></i></a>
                                </li>
                            </ul>
                        </nav>
                        <nav class="ls-pagination mb-5">
                            <ul th:if="${session.typename} == null" th:with="pages=${session.jobIPage.pages},current=${session.jobIPage.current}">
                                <li class="prev" th:if="${current != 1}">
                                    <a href="#"
                                       th:href="'/job/searchjoblist/' + ${session.jobIPage.current - 1} + '/' + ${session.jobIPage.size}">
                                        <i class="fa fa-arrow-left"></i></a></li>
                                <li th:if="${pages<10}" th:each="i:${#numbers.sequence(1,pages)}">
                                    <a th:if="${session.jobIPage.current != i}"
                                       th:href="'/job/searchjoblist/' + ${i} + '/' + ${session.jobIPage.size}"
                                       th:text="${i}"></a>
                                    <a th:if="${session.jobIPage.current == i}" class="current-page"
                                       th:href="'/job/searchjoblist/' + ${i} + '/' + ${session.jobIPage.size}"
                                       th:text="${i}"></a>
                                </li>
                                <li th:if="${pages>10}"
                                    th:each="i:${#numbers.sequence(1,3)}">
                                    <a th:if="${session.jobIPage.current != i}"
                                       th:href="'/job/searchjoblist/' +${i} + '/' + ${session.jobIPage.size}"
                                       th:text="${i}"></a>
                                    <a th:if="${session.jobIPage.current == i}" class="current-page"
                                       th:href="'/job/searchjoblist/' +${i} + '/' + ${session.jobIPage.size}"
                                       th:text="${i}"></a>
                                </li>
                                <li th:if="${pages>10 && current == 3}">
                                    <a
                                            th:href="'/job/searchjoblist/' + 4 + '/' + ${session.jobIPage.size}"
                                            th:text="4"></a>
                                </li>
                                <li th:if="${pages>10 && current == 4}">
                                    <a class="current-page"
                                       th:href="'/job/searchjoblist/' + 4 + '/' + ${session.jobIPage.size}"
                                       th:text="4"></a>
                                </li>
                                <li th:if="${pages>10 && current == 4}">
                                    <a
                                            th:href="'/job/searchjoblist/' + 5 + '/' + ${session.jobIPage.size}"
                                            th:text="5"></a>
                                </li>
                                <li th:if="${pages>10}">
                                    ...
                                </li>
                                <li th:if="${pages>10  && current >= 5 && pages - current >= 4}"
                                    th:each="i:${#numbers.sequence(current - 1,current + 1)}">
                                    <a th:if="${session.jobIPage.current != i}"
                                       th:href="'/job/searchjoblist/'+ ${i} + '/' + ${session.jobIPage.size}"
                                       th:text="${i}"></a>
                                    <a th:if="${session.jobIPage.current == i}" class="current-page"
                                       th:href="'/job/searchjoblist/ + ${i} + '/' + ${session.jobIPage.size}"
                                       th:text="${i}"></a>
                                </li>
                                <li th:if="${pages>10  && current >= 5 && pages - current >= 5}">
                                    ...
                                </li>
                                <li th:if="${pages>10 &&  pages - current == 3}">
                                    <a
                                            th:href="'/job/searchjoblist/'+ ${current - 1} + '/' + ${session.jobIPage.size}"
                                            th:text="${current - 1}"></a>
                                </li>
                                <li th:if="${pages>10 &&  pages - current == 3}">

                                    <a class="current-page"
                                       th:href="'/job/searchjoblist/' + ${current} + '/' + ${session.jobIPage.size}"
                                       th:text="${current}"></a>
                                </li>
                                <li th:if="${pages>10 && pages - current == 2}">
                                    <a
                                            th:href="'/job/searchjoblist/' + ${current - 1} + '/' + ${session.jobIPage.size}"
                                            th:text="${current - 1}"></a>
                                </li>
                                <li th:if="${pages>10}"
                                    th:each="i:${#numbers.sequence(pages - 2, pages)}">
                                    <a th:if="${session.jobIPage.current != i}"
                                       th:href="'/job/searchjoblist/' + ${i}+ '/' + ${session.jobIPage.size}"
                                       th:text="${i}"></a>
                                    <a th:if="${session.jobIPage.current == i}" class="current-page"
                                       th:href="'/job/searchjoblist/' + ${i} + '/' + ${session.jobIPage.size}"
                                       th:text="${i}"></a>
                                </li>
                                <li class="next" th:if="${current != pages}"><a
                                        th:href="'/job/searchjoblist/' + ${session.jobIPage.current + 1}  + '/' + ${session.jobIPage.size}"
                                        class="fa fa-arrow-right"></i></a>
                                </li>
                            </ul>
                        </nav>
                        </nav><!-- Call To Action -->
                        <div class="call-to-action-four style-two">
                            <h5>招聘？</h5>
                            <p>采用最合适的方式找到工作 <br>专为开发者</p><a href="#" class="theme-btn btn-style-one bg-blue"><span class="btn-title">现在开始找工作！！</span></a>
                            <div class="image" style="background-image: url(/picture/ads-bg-4.png);"></div>
                        </div><!-- End Call To Action -->
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--End Listing Page Section -->
    <!-- Main Footer -->
    <div th:replace="../templates/fragments/header::bottom"></div>
    <!-- End Main Footer -->
</div><!-- End Page Wrapper -->
<script src="static/js/jquery.js" th:src="@{/js/jquery.js}"></script>
<script type="text/javascript">

    function getjobpage(typename,current,pagesize){
        console.log(pagesize);
        console.log(typename+current+pagesize);
        console.log(typename+current+pagesize);
        var str = '';
        $.ajax({
            type: 'GET',
            url:'/job/getjobpage',
            dataType:"JSON",
            async:false,
            data:{
                'jobtypename':typename,
                'jobpagecurrent':current,
                'jobpagesize':pagesize
            },
            success(data){
                var jobandcompanylist = data.records;
                for (var i = 0 ; i < pagesize ; i++){
                    str += '<div class="job-block col-lg-6 col-md-12 col-sm-12">\n' +
                        '            <div class="inner-box">\n' +
                        '            <div class="content" >\n' +
                        '            <span class="company-logo"><img src="';
                    str += jobandcompanylist[i].company.company_picture;
                    str += '" alt=""></span>\n' +
                        '            <h4><a href="/job/job_detail/';
                    str += jobandcompanylist[i].job.job_id;
                    str += '">';
                    str += jobandcompanylist[i].job.job_name;
                    str += '</a></h4>\n' +
                        '        <ul class="job-info">\n' +
                        '            <li><span class="icon flaticon-briefcase"></span>';
                    str += typename;
                    str += '</li>\n' +
                        '        <li><span class="icon flaticon-map-locator"></span>';
                    str += jobandcompanylist[i].job.job_location;
                    str += '</li>\n' +
                        '        <li><span class="icon flaticon-money"></span>￥';
                    str += jobandcompanylist[i].job.job_money_low;
                    str += '-';
                    str += jobandcompanylist[i].job.job_money_high;
                    str += 'k</li>\n' +
                        '        </ul>\n' +
                        '        <ul class="job-other-info">';
                    for (var j = 0 ; j < 7 ; j++){
                        str += '<li class="required">';
                        str += jobandcompanylist[i].job.job_welfare[j];
                        str += '</li>';
                    }
                    str += '<li  class="required" > ... </li>\n' +
                        '        </ul>\n' +
                        '        <button class="bookmark-btn"><span class="flaticon-bookmark"></span></button>\n' +
                        '        </div>\n' +
                        '        </div>\n' +
                        '        </div>';
                }
                var showdatastr = '';
                showdatastr += '展示<strong>'+data.total+'</strong>个岗位中的<strong>'+(data.current - 1) * data.size + 1 +' - '+ data.current * data.size +'</strong>个岗位';
                $("#showdata").html(showdatastr);
                var pagestr='';
            }
        })
        return str;
    }


    $("#jobtype").change(function () {
        var typename = $("#jobtype").val();
        window.location.href="/job/joblist/"+typename;
    }),

    $("#changejobpagesize").change(function () {
        var changejobpagesize = $("#changejobpagesize").val();
        var jobpagecurrent = $("#jobpagecurrent").val();
        var jobtypename = $("#jobtypename").val();
        if (jobtypename != ""){
            window.location.href="/job/joblist/"+jobtypename+"/"+jobpagecurrent+"/"+changejobpagesize;
        }else {
            window.location.href="/job/searchjoblist/"+jobpagecurrent+"/"+changejobpagesize;
        }
/*        var jobpagestr = getjobpage(jobtypename,jobpagecurrent,changejobpagesize);
        $("#joblistpage").html(jobpagestr);*/

    })

</script>


<script src="static/js/popper.min.js" th:src="@{/js/popper.min.js}"></script>
<script src="static/js/jquery-ui.min.js" th:src="@{/js/jquery-ui.min.js}"></script>
<script src="static/js/chosen.min.js" th:src="@{/js/chosen.min.js}"></script>
<script src="static/js/bootstrap.min.js" th:src="@{/js/bootstrap.min.js}"></script>
<script src="static/js/jquery.fancybox.js" th:src="@{/js/jquery.fancybox.js}"></script>
<script src="static/js/jquery.modal.min.js" th:src="@{/js/jquery.modal.min.js}"></script>
<script src="static/js/mmenu.polyfills.js" th:src="@{/js/mmenu.polyfills.js}"></script>
<script src="static/js/mmenu.js" th:src="@{/js/mmenu.js}"></script>
<script src="static/js/appear.js" th:src="@{/js/appear.js}"></script>
<script src="static/js/owl.js" th:src="@{/js/owl.js}"></script>
<script src="static/js/wow.js" th:src="@{/js/wow.js}"></script>
<script src="static/js/script.js" th:src="@{/js/script.js}"></script>

</body>
</html>
